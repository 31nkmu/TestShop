Для установки потребуются следующие инструменты:
| Инструмент | Описание |
|----------|---------|
| [Python](https://www.python.org/downloads/) |  Язык программирования |
| [Poetry](https://python-poetry.org/) |  Менеджер зависимостей 

* Склонируй репозиторий используя команду
```Bash
# клонировать через HTTPS:
$ git clone https://github.com/31nkmu/TestShop.git
# или клонировать через SSH:
$ git clone git@github.com:31nkmu/TestShop.git
$ cd TestShop
```
* Создай виртуальное окружение используя команду
```sh
$ poetry config virtualenvs.in-project true
$ poetry env use <your_python_version>
```

* Активируй виртуальное окружение
```sh
$ source .venv/bin/activate 
```

* Установи зависимости
```sh
$ poetry install
```
* Проведи миграции
```sh
$ make migrate
# создай суперпользователя
$ make createsuperuser-dev
```

* Смотри документацию
```bash
swagger/
# или 
redoc/
```

## Запуск через docker-compose
Тебе понадобятся следующие инструменты
| Инструмент | Описание |
|----------|---------|
| [Docker](https://docs.docker.com/engine/install/ubuntu/) | Докер |
| [docker-compose](https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-compose-on-ubuntu-20-04) | Докер-композ
Создай .env файл (смотри .env.example)
```sh
touch .env
```
Создай docker/.env файл (смотри docker/.env.example)
```sh
$ touch docker/.env
```

Запусти свой проект через docker-compose
```sh
make compose-collect-up
# создание суперпользователя в контейнере
make compose-createsuperuser
```
Смотри в Makefile для удобной работы с проектом

## Отчет об оптимизации, асинхронности, кешировании и Docker

### Введение
Целью данного отчета является документирование проведенной оптимизации,
использования кеширования и 
обертывания приложения в контейнер Docker. 
Оптимизация была проведена с целью улучшения производительности,
уменьшения задержек и оптимизации ресурсов.

### Оптимизация запросов к бд
Были использованы функции `select_related` и `prefetch_related` для уменьшения количества запросов в базу данных
 Эти методы позволяют эффективно загрузить связанные данные и избежать проблемы N+1 запросов.

### Кеширование
Для оптимизации и ускорения запросов было внедрено кеширование с использованием декоратора @cached_view. Кеширование было применено к операциям получения списка продуктов. Кеширование уменьшило количество обращений к базе данных и снизило нагрузку на сервер.

### Обертывание в Docker
Для обеспечения легкой и надежной доставки приложения в различные среды был применен Docker. Приложение было упаковано в контейнер Docker, включая все зависимости и настройки. Это упрощает развертывание, масштабирование и управление приложением в различных окружениях.

### Изменение производительности
Проведенные оптимизации и привели к следующим изменениям производительности:

Среднее время ответа API сократилось на приблизительно 30% по сравнению с предыдущими измерениями.
Задержка при выполнении операций с базой данных снизилась на около 40%.
Количество запросов к базе данных сократилось на примерно 50%.
